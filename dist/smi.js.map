{"version":3,"sources":["smi.js"],"names":["Smi","Attr","__attr__","each","callback","this","forEach","value","fns","deepCopy","copyTo","obj","Object","keys","i","getPrototypeOf","prototype","e","console","warn","bind","Content","val","initInfo","diff","obj1","obj2","plus","minus","undefined","Array","some","push","length","+","-","update","instance","A","diffs","_this","prop","__currentState__","a","__opNum__","map","p","m","__op__","_arr1","content","_arr2","c","Initinfo","__compT","__dataAdd","setPropData","call","nodeValue","Component","compT","dataObj","eveLisObj","__prop__","_raw_","__raw__","document","createElement","__eventHandle__","attr","which","opDef","d","para","item","classList","add","remove","dataset","style","__eventHandle","deF","render","topCompInfo","ele","build","init","_arr","rc","addEventListener","appendChild","textNode","createTextNode","err","rt"],"mappings":"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","file":"smi.js","sourcesContent":["\"use strict\";\n\nvar Smi = function () {\n\tvar Attr = {};\n\tAttr.__attr__ = [\"class\", \"data\", \"style\", \"id\"];\n\tAttr.each = function (callback) {\n\t\tthis.__attr__.forEach(function (value) {\n\t\t\tcallback(value);\n\t\t});\n\t};\n\tvar fns = {};\n\tfns.deepCopy = function (copyTo, obj) {\n\t\tObject.keys(obj).forEach(function (i) {\n\t\t\tif (Object.getPrototypeOf(obj[i]) === Object.prototype) {\n\t\t\t\tif (copyTo[i] && Object.getPrototypeOf(copyTo[i]) === Object.prototype) {} else {\n\t\t\t\t\tcopyTo[i] = {};\n\t\t\t\t}\n\t\t\t\tthis.deepCopy(copyTo[i], obj[i]);\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tcopyTo[i] = obj[i];\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcopyTo = {};\n\t\t\t\t\tcopyTo[i] = obj[i];\n\t\t\t\t\tconsole.warn(\"the object copyTo may not be a object\");\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this));\n\t\treturn copyTo;\n\t};\n\tfns.Content = function (val, initInfo) {\n\t\tthis.value = val;\n\t\tthis.initInfo = initInfo || \"computed\";\n\t};\n\tfns.diff = function (obj1, obj2) {\n\t\t//以obj1为参考\n\t\tvar plus, minus;\n\t\tif (obj1 === undefined) {\n\t\t\tif (obj2 instanceof Array) {\n\t\t\t\tobj1 = [];\n\t\t\t} else if (Object.getPrototypeOf(obj2) === Object.prototype) {\n\t\t\t\tobj1 = {};\n\t\t\t} else {\n\t\t\t\tobj1 = \" \";\n\t\t\t}\n\t\t}\n\t\tif (obj1 instanceof Array && obj2 instanceof Array) {\n\t\t\tplus = [];\n\t\t\tminus = [];\n\t\t\tobj1.forEach(function (value) {\n\t\t\t\tif (!obj2.some(function (val) {\n\t\t\t\t\treturn value == val;\n\t\t\t\t})) {\n\t\t\t\t\tminus.push(value);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobj2.forEach(function (value) {\n\t\t\t\tif (!obj1.some(function (val) {\n\t\t\t\t\treturn value == val;\n\t\t\t\t})) {\n\t\t\t\t\tplus.push(value);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (plus.length === 0 && minus.length === 0) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t\"+\": plus,\n\t\t\t\t\t\"-\": minus\n\t\t\t\t};\n\t\t\t}\n\t\t} else if (Object.getPrototypeOf(obj1) === Object.prototype && Object.getPrototypeOf(obj2) === Object.prototype) {\n\t\t\tplus = {};\n\t\t\tminus = [];\n\t\t\tObject.keys(obj1).forEach(function (i) {\n\t\t\t\tif (obj2[i] === undefined) {\n\t\t\t\t\tminus.push(i);\n\t\t\t\t} else if (obj2[i] === obj1[i]) {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tplus[i] = obj2[i];\n\t\t\t\t}\n\t\t\t});\n\t\t\tObject.keys(obj2).forEach(function (i) {\n\t\t\t\tif (obj1[i] === undefined) {\n\t\t\t\t\tplus[i] = obj2[i];\n\t\t\t\t} else if (obj2[i] === obj1[i]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (Object.keys(plus).length === 0 && minus.length === 0) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t\"+\": plus,\n\t\t\t\t\t\"-\": minus\n\t\t\t\t};\n\t\t\t}\n\t\t} else if (typeof obj1 === \"string\" && typeof obj2 === \"string\") {\n\t\t\tif (obj1 === obj2) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t\"+\": obj2\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\tfns.update = function (instance) {\n\t\t(function A() {\n\t\t\tAttr.each(function (value) {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tvar i, diffs;\n\t\t\t\tif ((i = this.prop[\"_\" + value + \"_\"]) !== undefined) {\n\t\t\t\t\tdiffs = fns.diff(this.__currentState__[value], i);\n\t\t\t\t\tif (diffs !== true) {\n\t\t\t\t\t\tvar a = {};\n\t\t\t\t\t\ta[value] = diffs;\n\t\t\t\t\t\tthis.__opNum__.push(a);\n\t\t\t\t\t\tif (diffs[\"+\"] instanceof Array) {\n\t\t\t\t\t\t\tthis.__currentState__[value] = i.map(function (val) {\n\t\t\t\t\t\t\t\treturn val;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (typeof diffs[\"+\"] === \"string\") {\n\t\t\t\t\t\t\tthis.__currentState__[value] = i;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar plus = Object.keys(diffs[\"+\"]);\n\t\t\t\t\t\t\tvar minus = diffs[\"-\"];\n\t\t\t\t\t\t\tplus.forEach(function (p) {\n\t\t\t\t\t\t\t\t_this.__currentState__[value][p] = i[p];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tminus.forEach(function (m) {\n\t\t\t\t\t\t\t\tdelete _this.__currentState__[value][m];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t\tif (this.__opNum__.length !== 0) {\n\t\t\t\tthis.__opNum__.forEach(function (value) {\n\t\t\t\t\tvar i = Object.keys(value)[0];\n\t\t\t\t\tthis.__op__(i, \"+\")(value[i][\"+\"]);\n\t\t\t\t\tthis.__op__(i, \"-\")(value[i][\"-\"]);\n\t\t\t\t}.bind(this));\n\t\t\t\tthis.__opNum__ = [];\n\t\t\t};\n\t\t\tvar _arr1 = this.content();\n\t\t\tvar _arr2 = this.__currentState__.content;\n\t\t\tif (_arr1 instanceof Array) {\n\t\t\t\t_arr1.forEach(function (c, i) {\n\t\t\t\t\tif (c instanceof Initinfo && c.__compT == _arr2[i].initInfo.__compT) {\n\t\t\t\t\t\tif (c.__dataAdd !== undefined) {\n\t\t\t\t\t\t\t_arr2[i].value.setPropData(c.__dataAdd);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tA.call(_arr2[i].value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_arr2[i].value.nodeValue = c;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (_arr1 instanceof Initinfo) {\n\t\t\t\t\tif (_arr1.__dataAdd !== undefined) {\n\t\t\t\t\t\t_arr2[0].value.setPropData(_arr1.__dataAdd);\n\t\t\t\t\t}\n\t\t\t\t\tA.call(_arr2[0].value);\n\t\t\t\t} else {\n\t\t\t\t\t_arr2[0].value.nodeValue = _arr1;\n\t\t\t\t}\n\t\t\t}\n\t\t}).call(instance);\n\t};\n\tvar Component = function Component(compT, dataObj, eveLisObj) {\n\t\tcompT.prop = compT.prop || {};\n\t\tthis.__prop__ = compT.prop;\n\t\tthis.fns = compT.fns || {};\n\t\tthis.content = compT.content || function () {\n\t\t\treturn undefined;\n\t\t};\n\t\tthis.setPropData(dataObj);\n\t\tthis.prop._raw_ = this.prop._raw_ || \"div\";\n\t\tthis.__raw__ = document.createElement(this.prop._raw_);\n\t\tthis.__eventHandle__ = eveLisObj;\n\t\tthis.__currentState__ = {};\n\t\tthis.__opNum__ = []; //冻结对象\n\t};\n\tComponent.prototype.__op__ = function (attr, which) {\n\t\tvar instance = this;\n\t\tfunction opDef(a, d) {\n\t\t\tswitch (which) {\n\t\t\t\tcase \"+\":\n\t\t\t\t\treturn function (para) {\n\t\t\t\t\t\tpara != undefined && a.call(instance, para);\n\t\t\t\t\t};\n\t\t\t\tcase \"-\":\n\t\t\t\t\treturn function (para) {\n\t\t\t\t\t\tpara != undefined && d.call(instance, para);\n\t\t\t\t\t};\n\t\t\t}\n\t\t};\n\t\tswitch (attr) {\n\t\t\tcase \"class\":\n\t\t\t\treturn opDef(function (para) {\n\t\t\t\t\tif (para instanceof Array) {\n\t\t\t\t\t\tpara.forEach(function (item) {\n\t\t\t\t\t\t\tthis.__raw__.classList.add(item);\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.__raw__.classList.add(para);\n\t\t\t\t\t}\n\t\t\t\t}, function (para) {\n\t\t\t\t\tif (para instanceof Array) {\n\t\t\t\t\t\tpara.forEach(function (item) {\n\t\t\t\t\t\t\tthis.__raw__.classList.remove(item);\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.__raw__.classList.remove(para);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"data\":\n\t\t\t\treturn opDef(function (para) {\n\t\t\t\t\tObject.keys(para).forEach(function (item) {\n\t\t\t\t\t\tthis.__raw__.dataset[item] = para[item];\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}, function (para) {\n\t\t\t\t\tif (para instanceof Array) {\n\t\t\t\t\t\tpara.forEach(function (item) {\n\t\t\t\t\t\t\tthis.__raw__.dataset[item] = \"\";\n\t\t\t\t\t\t\tdelete this.__raw__.dataset[item];\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.__raw__.dataset[item] = \"\";\n\t\t\t\t\t\tdelete this.__raw__.dataset[para];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"style\":\n\t\t\t\treturn opDef(function (para) {\n\t\t\t\t\tObject.keys(para).forEach(function (item) {\n\t\t\t\t\t\tthis.__raw__.style[item] = para[item];\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}, function (para) {\n\t\t\t\t\tif (para instanceof Array) {\n\t\t\t\t\t\tpara.forEach(function (item) {\n\t\t\t\t\t\t\tthis.__raw__.style[item] = \"\";\n\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.__raw__.style[para] = \"\";\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn opDef(function (para) {\n\t\t\t\t\tthis.__raw__[attr] = para;\n\t\t\t\t}, function (para) {\n\t\t\t\t\tthis.__raw__[attr] = \"\";\n\t\t\t\t});\n\t\t};\n\t};\n\tComponent.prototype.update = function () {\n\t\tfns.update(this);\n\t};\n\tComponent.prototype.setPropData = function (dataObj) {\n\t\tthis.prop = fns.deepCopy(fns.deepCopy({}, this.__prop__), dataObj);\n\t};\n\tvar Initinfo = function Initinfo(obj, dataObj, eveLisObj) {\n\t\tthis.__compT = obj;\n\t\tthis.__dataAdd = dataObj || {};\n\t\tthis.__eventHandle = eveLisObj || {};\n\t};\n\tvar deF = function deF(obj) {\n\t\treturn function (dataObj, eveLisObj) {\n\t\t\treturn new Initinfo(obj, dataObj, eveLisObj);\n\t\t};\n\t};\n\tvar render = function render(topCompInfo, ele) {\n\t\tvar build = function build(init) {\n\t\t\tvar instance = new Component(init.__compT, init.__dataAdd, init.__eventHandle);\n\t\t\tAttr.each(function (value) {\n\t\t\t\tvar i;\n\t\t\t\tif ((i = instance.prop[\"_\" + value + \"_\"]) !== undefined) {\n\t\t\t\t\tswitch (value) {\n\t\t\t\t\t\tcase \"style\":\n\t\t\t\t\t\tcase \"data\":\n\t\t\t\t\t\t\tinstance.__currentState__[value] = {};\n\t\t\t\t\t\t\tfns.deepCopy(instance.__currentState__[value], i);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"class\":\n\t\t\t\t\t\t\tinstance.__currentState__[value] = i.map(function (val) {\n\t\t\t\t\t\t\t\treturn val;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tinstance.__currentState__[value] = i;\n\n\t\t\t\t\t}\n\t\t\t\t\tinstance.__op__(value, \"+\")(i);\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar _arr = instance.content();\n\t\t\tinstance.__currentState__.content = [];\n\t\t\tif (_arr == undefined) {\n\t\t\t\tconsole.warn(\"lack of any required parameter\");\n\t\t\t\t_arr = \"undefined\";\n\t\t\t}\n\t\t\tif (_arr instanceof Array) {\n\t\t\t\t_arr.forEach(function (c) {\n\t\t\t\t\tif (c == undefined) {\n\t\t\t\t\t\tconsole.warn(\"lack of any required parameter\");\n\t\t\t\t\t\tc = \"undefined\";\n\t\t\t\t\t}\n\t\t\t\t\tif (c instanceof Initinfo) {\n\t\t\t\t\t\tvar rc = build(c);\n\t\t\t\t\t\tinstance.__currentState__.content.push(new fns.Content(rc, c));\n\t\t\t\t\t\t/*初步实现待整改，消息代理等等*/\n\t\t\t\t\t\tfor (var i in rc.__eventHandle__) {\n\t\t\t\t\t\t\trc.__raw__.addEventListener(i, rc.__eventHandle__[i].bind(instance));\n\t\t\t\t\t\t};\n\t\t\t\t\t\tinstance.__raw__.appendChild(rc.__raw__);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar textNode = document.createTextNode(c);\n\t\t\t\t\t\t\tinstance.__currentState__.content.push(new fns.Content(textNode));\n\t\t\t\t\t\t\tinstance.__raw__.appendChild(textNode);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tconsole.warn(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tvar textNode = document.createTextNode(_arr);\n\t\t\t\t\tinstance.__currentState__.content.push(new fns.Content(textNode));\n\t\t\t\t\tinstance.__raw__.appendChild(document.createTextNode(_arr));\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.warn(err);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn instance;\n\t\t};\n\t\tvar rt = build(topCompInfo);\n\t\tfor (var i in rt.__eventHandle__) {\n\t\t\trt.__raw__.addEventListener(i, rt.__eventHandle__[i]);\n\t\t};\n\t\tele.appendChild(rt.__raw__);\n\t};\n\treturn {\n\t\tdeF: deF,\n\t\trender: render\n\t};\n}();"],"sourceRoot":"/source/"}